<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4" layout:decorator="layout">
<body>
	<div class="top-bar clearfix" layout:fragment="page_header_container">
		<!-- Page-header start -->
		<div class="page-header card">
			<div class="row align-items-end">
				<div class="col-lg-8">
					<div class="page-header-title">
						<i class="icofont icofont-social-yahoo label yahoo"></i>
						<div class="d-inline">
							<h4>Yahoo蠎�蜻雁ｺ�蜻贋ｽ懈��</h4>
							<strong class="text-danger">窶ｻ縺ｮ鬆�逶ｮ縺ｯ縲∝ｿ�鬆磯��逶ｮ縺ｧ縺吶��</strong>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Page-header end -->

	<!-- Page body start -->
	<div layout:fragment="page_body_container">
		<form id="defaultForm" class="form-horizontal" th:action="@{/campaign/yahoo/issueCreateConfirm}" enctype="multipart/form-data" th:object="${yahooIssueinputForm}" method="post" onsubmit="return check('')">
			<div th:replace="common/errorMessages"></div>
			<div class="card">
				<div class="card-block">
					<h4 class="sub-title">蝓ｺ譛ｬ諠�蝣ｱ</h4>
					<div class="form-group row">
						<div class="col-sm-2 text-right">
							<label class="col-form-label">蠎�蜻雁錐<span class="text-danger">窶ｻ</span></label>
						</div>
						<div class="col-sm-6">
							<input type="text" class="form-control" th:field="*{campaignName}" required="required" maxlength="60">
						</div>
					</div>
					<div class="form-group row">
						<div class="col-sm-2 text-right">
							<label class="col-form-label">莠育ｮ�<span class="text-danger">窶ｻ</span></label>
						</div>
						<div class="col-sm-2">
							<input type="number" class="form-control" th:field="*{budget}" min="1" max="9999999999" required="required">
						</div>
						<span class="col-form-label">蜀�</span>
					</div>
					<div class="form-group row">
						<div class="col-sm-2 text-right">
							<label class="col-form-label">驟堺ｿ｡髢句ｧ区律<span class="text-danger">窶ｻ</span></label>
						</div>
						<div class="col-sm-2">
							<input type="date" class="form-control" th:field="*{startDate}" required="required">
						</div>
					</div>
					<div class="form-group row">
						<div class="col-sm-2 text-right">
							<label class="col-form-label">驟堺ｿ｡邨ゆｺ�譌･<span class="text-danger">窶ｻ</span></label>
						</div>
						<div class="col-sm-2">
							<input type="date" class="form-control" th:field="*{endDate}" required="required">
						</div>
					</div>
					<div class="form-group row">
						<label class="col-sm-2 text-right">驟堺ｿ｡蝨ｰ蝓�<span class="text-danger">窶ｻ</span></label>
						<div class="col-sm-4" th:if="${#lists.isEmpty(yahooIssueinputForm.locationIdList)}">
							<select id="custom-headers" class="searchable" multiple th:field="*{locationIdList}">
								<option th:each="object : ${T(jp.acepro.haishinsan.service.CodeMasterServiceImpl).yahooAreaNameList}" th:value="${object.getFirst()}" th:text="${object.getSecond()}">譌･譛ｬ</option>
							</select>
						</div>
						<div class="col-sm-4" th:unless="${#lists.isEmpty(yahooIssueinputForm.locationIdList)}">
							<select id="custom-headers" class="searchable" multiple th:field="*{locationIdList}">
								<option th:each="object : ${T(jp.acepro.haishinsan.service.CodeMasterServiceImpl).yahooAreaNameList}" th:selected="${#lists.contains(yahooIssueinputForm.locationIdList, object.getFirst())}" th:value="${object.getFirst()}" th:text="${object.getSecond()}">譌･譛ｬ</option>
							</select>
						</div>
					</div>
					<h4 class="sub-title">蠎�蜻頑ュ蝣ｱ</h4>
					<div class="form-group row">
						<div class="col-sm-2 text-right">
							<label class="col-form-label">蠎�蜻翫ち繧､繝�<span class="text-danger">窶ｻ</span></label>
						</div>
						<div class="col-sm-6">
							<select class="form-control select" th:field="*{advDestination}" required="required" id="advDestination">
								<option th:each="obj : ${T(jp.acepro.haishinsan.enums.AdvDestination).values()}" th:selected="${yahooIssueinputForm.advDestination == obj.value}" th:value="${obj.value}" th:text="${obj.label}"></option>
							</select>
						</div>
					</div>
					<div class="form-group row">
						<div class="col-sm-2 text-right">
							<label class="col-form-label">繝�繝舌う繧ｹ<span class="text-danger">窶ｻ</span></label>
						</div>
						<div class="col-sm-6">
							<select class="form-control select" th:field="*{deviceType}" required="required" id="device">
								<option value="">-- 驕ｸ謚槭＠縺ｦ縺上□縺輔＞ --</option>
								<option th:each="obj : ${T(jp.acepro.haishinsan.enums.DeviceType).values()}" th:selected="${yahooIssueinputForm.deviceType == obj.value}" th:value="${obj.value}" th:text="${obj.label}"></option>
							</select>
						</div>
					</div>
					<div id="infeedAdBlock">
						<div class="form-group row">
							<label class="col-sm-2 col-form-label text-right">遏ｭ縺�蠎�蜻願ｦ句�ｺ縺�<span class="text-danger">窶ｻ</span></label>
							<div class="col-sm-4">
								<input type="text" class="form-control" th:field="*{infeedAdShortTitle}" required="required" maxlength="30">
							</div>
						</div>
						<div class="form-group row">
							<label class="col-sm-2 col-form-label text-right">隱ｬ譏取枚<span class="text-danger">窶ｻ</span></label>
							<div class="col-sm-4">
								<input type="text" class="form-control" th:field="*{infeedAdDescription}" required="required" maxlength="80">
							</div>
						</div>
						<div class="form-group row">
							<label class="col-sm-2 col-form-label text-right">LP<span class="text-danger">窶ｻ</span></label>
							<div class="col-sm-6">
								<select class="form-control" th:field="*{infeedAdFinalPageUrl}" required="required">
									<option value="">-- 驕ｸ謚槭＠縺ｦ縺上□縺輔＞ --</option>
									<option th:each="segment : *{segmentList}" th:selected="${yahooIssueinputForm.infeedAdFinalPageUrl == segment.getSecond()}" th:value="${segment.getSecond()}" th:text="${segment.getSecond()}">繧ｯ繝ｪ繧ｨ繧､繝�繧｣繝悶ｒ驕ｸ謚槭＠縺ｦ縺上□縺輔＞</option>
								</select>
							</div>
						</div>
						<div class="col-sm-12">
							<div class="card-block">
								<div class="sub-title">逕ｻ蜒上い繝�繝励Ο繝ｼ繝�<span class="text-danger">窶ｻ</span></div>
								<input type="file" multiple th:field="*{infeedAdImageFileList}" required="required">
							</div>
						</div>
					</div>
					<div id="targetAdBlock">
						<div class="form-group row">
							<label class="col-sm-2 col-form-label text-right">LP<span class="text-danger">窶ｻ</span></label>
							<div class="col-sm-6">
								<select class="form-control" th:field="*{targetAdFinalPageUrl}" required="required">
									<option value="">-- 驕ｸ謚槭＠縺ｦ縺上□縺輔＞ --</option>
									<option th:each="segment : *{segmentList}" th:selected="${yahooIssueinputForm.targetAdFinalPageUrl == segment.getSecond()}" th:value="${segment.getSecond()}" th:text="${segment.getSecond()}">繧ｯ繝ｪ繧ｨ繧､繝�繧｣繝悶ｒ驕ｸ謚槭＠縺ｦ縺上□縺輔＞</option>
								</select>
							</div>
						</div>
						<div class="col-sm-12">
							<div class="card-block">
								<div class="sub-title">逕ｻ蜒上い繝�繝励Ο繝ｼ繝�<span class="text-danger">窶ｻ</span></div>
								<input type="file" multiple th:field="*{targetAdImageFileList}" required="required">
							</div>
						</div>
					</div>
					<div id="listingAdBlock">
						<div class="form-group row">
							<label class="col-sm-2 col-form-label text-right">LP<span class="text-danger">窶ｻ</span></label>
							<div class="col-sm-6">
								<select class="form-control" th:field="*{listingAdFinalPageUrl}" required="required">
									<option value="">-- 驕ｸ謚槭＠縺ｦ縺上□縺輔＞ --</option>
									<option th:each="segment : *{segmentList}" th:selected="${yahooIssueinputForm.listingAdFinalPageUrl == segment.getSecond()}" th:value="${segment.getSecond()}" th:text="${segment.getSecond()}">繧ｯ繝ｪ繧ｨ繧､繝�繧｣繝悶ｒ驕ｸ謚槭＠縺ｦ縺上□縺輔＞</option>
								</select>
							</div>
						</div>
						<div class="form-group row">
							<label class="col-sm-2 col-form-label text-right">蠎�蜻願ｦ句�ｺ縺暦ｼ�<span class="text-danger">窶ｻ</span></label>
							<div class="col-sm-4">
								<input type="text" class="form-control" th:field="*{listingAdTitle1}" required="required" maxlength="30">
							</div>
						</div>
						<div class="form-group row">
							<label class="col-sm-2 col-form-label text-right">蠎�蜻願ｦ句�ｺ縺暦ｼ�<span class="text-danger">窶ｻ</span></label>
							<div class="col-sm-4">
								<input type="text" class="form-control" th:field="*{listingAdTitle2}" required="required" maxlength="30">
							</div>
						</div>
						<div class="form-group row">
							<label class="col-sm-2 col-form-label text-right">隱ｬ譏取枚<span class="text-danger">窶ｻ</span></label>
							<div class="col-sm-4">
								<input type="text" class="form-control" th:field="*{listingAdDescription}" required="required" maxlength="80">
							</div>
						</div>
					</div>
					<div class="form-group row">
						<div class="col-sm-10 text-center">
							<button class="btn btn-success" type="submit" th:formaction="@{/campaign/yahoo/issueCreateConfirm}" th:formmethod="post">菴懈��</button>
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>
	<!-- page body end -->

	<div layout:fragment="custom_resource_body">
		<script>
			window.onload = function() {
				//驟堺ｿ｡譌･縺ｮ險ｭ螳壹��驕主悉縺ｯ驕ｸ謚槭〒縺阪↑縺�縺ｫ縺吶ｋ
				$(function() {
					var toDay = new Date();
					var year = toDay.getFullYear();
					var month = toDay.getMonth() + 1 < 10 ? "0"
							+ (toDay.getMonth() + 1) : (toDay.getMonth() + 1);
					var day = toDay.getDate() < 10 ? "0" + toDay.getDate()
							: toDay.getDate();
					$("#startDate").attr("min", year + "-" + month + "-" + day);
					$("#endDate").attr("min", year + "-" + month + "-" + day);
				});
			}
		</script>
		<script th:inline="javascript">
			/*<![CDATA[*/
			var infeed = /*[[${T(jp.acepro.haishinsan.enums.AdvDestination).RESPONSIVE.getValue()}]]*/

			// 蠎�蜻翫ち繧､繝励�ｮ驕ｸ謚槭↓繧医ｊ縲∬｡ｨ遉ｺ蜀�螳ｹ繧貞�繧頑崛縺医ｋ
			$(document).ready(function() {
				$('[id="advDestination"]').change(function() {
					changeOptions();
				});
			});
			// 蠎�蜻翫ち繧､繝励�ｮ險ｭ螳壼�､縺ｫ繧医ｊ縲∬｡ｨ遉ｺ蜀�螳ｹ繧貞�繧頑崛縺医ｋ
			$(document).ready(function() {
				changeOptions();
			});
			// 驕ｸ謚樣��逶ｮ縺ｮ繝ｪ繧ｻ繝�繝�
			function changeOptions() {
				// 驕ｸ謚槭＠縺溷�､
				var val = $('[id="advDestination"]').val();
				if (val === infeed) {
					$('#device').val('02');
					$('#device').prop("disabled", true);
				} else {
					$('#device').prop("disabled", false);
				}
			}
			/*]]>*/
		</script>
		<script th:inline="javascript">
			/*<![CDATA[*/

			var infeedAd = /*[[${T(jp.acepro.haishinsan.enums.AdvDestination).RESPONSIVE.getValue()}]]*/
			var targetAd = /*[[${T(jp.acepro.haishinsan.enums.AdvDestination).IMAGE.getValue()}]]*/
			var listingAd = /*[[${T(jp.acepro.haishinsan.enums.AdvDestination).LISTING.getValue()}]]*/
			
			// 蠎�蜻翫ち繧､繝励�ｮ驕ｸ謚槭↓繧医ｊ縲∬｡ｨ遉ｺ蜀�螳ｹ繧貞�繧頑崛縺医ｋ
			$(document).ready(function() {
				$('[name="advDestination"]').change(function() {
				    changeAdBlcok();
				});
			});

				// 蠎�蜻翫ち繧､繝励�ｮ險ｭ螳壼�､縺ｫ繧医ｊ縲∬｡ｨ遉ｺ蜀�螳ｹ繧貞�繧頑崛縺医ｋ
			$(document).ready(function() {
				changeAdBlcok();
			});
				
			// 陦ｨ遉ｺ蜀�螳ｹ繧貞�繧頑崛縺医ｋ
			function changeAdBlcok() {
				var val = $('[name="advDestination"]').val();
				switch (val) {
				case infeedAd:
					$('[id=infeedAdBlock]').fadeIn();
					$('[id=infeedAdShortTitle]').prop("required", true);
					$('[id=infeedAdDescription]').prop("required", true);
					$('[id=infeedAdFinalPageUrl]').prop("required", true);
					$('[id=infeedAdImageFileList]').prop("required", true);
					
					$('[id=targetAdBlock]').hide();
					$('[id=targetAdFinalPageUrl]').prop("required", false);
					$('[id=targetAdImageFileList]').prop("required", false);
					
					$('[id=listingAdBlock]').hide();
					$('[id=listingAdFinalPageUrl]').prop("required", false);
					$('[id=listingAdTitle1]').prop("required", false);
					$('[id=listingAdTitle2]').prop("required", false);
					$('[id=listingAdDescription]').prop("required", false);
					break;
				case targetAd:
					$('[id=infeedAdBlock]').hide();
					$('[id=infeedAdShortTitle]').prop("required", false);
					$('[id=infeedAdDescription]').prop("required", false);
					$('[id=infeedAdFinalPageUrl]').prop("required", false);
					$('[id=infeedAdImageFileList]').prop("required", false);
					
					$('[id=targetAdBlock]').fadeIn();
					$('[id=targetAdFinalPageUrl]').prop("required", true);
					$('[id=targetAdImageFileList]').prop("required", true);
					
					$('[id=listingAdBlock]').hide();
					$('[id=listingAdFinalPageUrl]').prop("required", false);
					$('[id=listingAdTitle1]').prop("required", false);
					$('[id=listingAdTitle2]').prop("required", false);
					$('[id=listingAdDescription]').prop("required", false);
					break;
				case listingAd:
					$('[id=infeedAdBlock]').hide();
					$('[id=infeedAdShortTitle]').prop("required", false);
					$('[id=infeedAdDescription]').prop("required", false);
					$('[id=infeedAdFinalPageUrl]').prop("required", false);
					$('[id=infeedAdImageFileList]').prop("required", false);
					
					$('[id=targetAdBlock]').hide();
					$('[id=targetAdFinalPageUrl]').prop("required", false);
					$('[id=targetAdImageFileList]').prop("required", false);
					
					$('[id=listingAdBlock]').fadeIn();
					$('[id=listingAdFinalPageUrl]').prop("required", true);
					$('[id=listingAdTitle1]').prop("required", true);
					$('[id=listingAdTitle2]').prop("required", true);
					$('[id=listingAdDescription]').prop("required", true);
					break;
				}
			}
			
			/*]]>*/
		</script>
	</div>
</body>
</html>
