<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4" layout:decorator="layout">
<body>
	<div class="top-bar clearfix" layout:fragment="page_header_container">
		<!-- Page-header start -->
		<div class="page-header card">
			<div class="row align-items-end">
				<div class="col-lg-8">
					<div class="page-header-title">
						<i class="fa fa-twitter bg-twiter"></i>
						<div class="d-inline">
							<h4>Twitter蠎�蜻翫��繝�繝ｳ繝励Ξ繝ｼ繝域眠隕丈ｽ懈��</h4>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Page-header end -->

	<!-- Page body start -->
	<div layout:fragment="page_body_container">
		<form th:action="@{/twitter/completeTemplate}" method="Post" th:object="${twitterTemplateInputForm}" onsubmit="return check('')">
			<div th:replace="common/errorMessages"></div>
			<div class="card">
				<div class="card-block">
					<h4 class="sub-title">繝�繝ｳ繝励Ξ繝ｼ繝�</h4>
					<div class="form-group row">
						<label class="col-sm-2 text-right">繝�繝ｳ繝励Ξ繝ｼ繝亥錐<span class="text-danger">窶ｻ</span></label>
						<div class="col-sm-8">
							<input type="text" class="form-control" th:field="*{templateName}" required maxlength="60" />
						</div>
					</div>
					<div class="form-group row">
						<label class="col-sm-2 text-right">蜆ｪ蜈磯��<span class="text-danger">窶ｻ</span></label>
						<div class="col-sm-8">
							<input type="number" class="form-control" th:field="*{templatePriority}" min="1" required="required" />
						</div>
						<span class="col-form-label">�ｼ亥ｰ上＆縺�謨ｰ蛟､縺悟━蜈医＆繧後ｋ�ｼ�</span>
					</div>
				</div>
			</div>
			<div class="card">
				<div class="card-block">
					<h4 class="sub-title">譯井ｻｶ菴懈��</h4>
					<div class="form-group row">
						<div class="col-sm-2 text-right">
							<label class="col-form-label">譯井ｻｶ蜷�</label>
						</div>
						<div class="col-sm-8">
							<input type="text" class="form-control" th:field="*{campaignName}" maxlength="60" />
						</div>
					</div>
					<div class="form-group row">
						<div class="col-sm-2 text-right">
							<label class="col-form-label">驟堺ｿ｡髢句ｧ区律</label>
						</div>
						<div class="col-sm-8">
							<input type="date" class="form-control" th:field="*{startTime}" />
						</div>
					</div>
					<div class="form-group row">
						<div class="col-sm-2 text-right">
							<label class="col-form-label">驟堺ｿ｡邨ゆｺ�譌･</label>
						</div>
						<div class="col-sm-8">
							<input type="date" class="form-control" th:field="*{endTime}" />
						</div>
					</div>
					<div class="form-group row">
						<div class="col-sm-2 text-right">
							<label class="col-form-label">譌･蛻･莠育ｮ�</label>
						</div>
						<div class="col-sm-8">
							<input type="number" class="form-control" th:field="*{dailyBudget}" onkeyup="this.value=this.value.replace(/\D/g,'')" min="1" max="9999999999" />
						</div>
						<span class="col-form-label">蜀�</span>
					</div>
					<div class="form-group row">
						<div class="col-sm-2 text-right">
							<label class="col-form-label">邱丈ｺ育ｮ�</label>
						</div>
						<div class="col-sm-8">
							<input type="number" class="form-control" th:field="*{totalBudget}" min="1" />
						</div>
						<span class="col-form-label">蜀�</span>
					</div>
				</div>
				<div class="card-block">
					<h4 class="sub-title">繧ｿ繝ｼ繧ｲ繝�繝郁ｨｭ螳�</h4>
					<div class="form-radio">
						<div class="form-group row">
							<label class="col-sm-2 col-form-label text-right">蝨ｰ蝓�</label>
							<th:block th:each="object,stat: ${T(jp.acepro.haishinsan.enums.TwitterLocationType).values()}">
								<label class="col-sm-2 col-form-label text-right" th:if="${!stat.first}"></label>
								<div class="radio col-sm-10 col-form-label">
									<label><input type="radio" name="radio" th:value="${object.value}" th:field="*{location}" th:text="${object.label}" /><i class="helper"></i></label>
								</div>
							</th:block>
						</div>
					</div>
					<div class="form-group row">
						<label class="col-sm-2 col-form-label text-right"></label>
						<div id="div_select" style="display: none">
							<select class="searchable" multiple='multiple' th:field="*{regions}">
								<option th:each="object : ${T(jp.acepro.haishinsan.service.CodeMasterServiceImpl).twitterRegionList}" th:value="${object.getFirst()}" th:text="${object.getSecond()}">蛹玲ｵｷ驕�</option>
							</select>
						</div>
					</div>
				</div>
				<div class="form-group row">
					<div class="col-sm-12 text-center">
						<button class="btn btn-success" type="submit" sec:authorize="hasAuthority('TWITTER_TEMPLATE_MANAGE')" th:formaction="@{/twitter/completeTemplate}" th:formmethod="Post">菴懈��</button>
					</div>
				</div>
			</div>
		</form>
	</div>

	<!-- Page body end -->

	<div id="styleSelector"></div>
	<div layout:fragment="custom_resource_body">
		<script>
			window.onload = function() {

				//驟堺ｿ｡譌･縺ｮ險ｭ螳壹��驕主悉縺ｯ驕ｸ謚槭〒縺阪↑縺�縺ｫ縺吶ｋ
				$(function() {
					var toDay = new Date();
					var year = toDay.getFullYear();
					var month = toDay.getMonth() + 1 < 10 ? "0"
							+ (toDay.getMonth() + 1) : (toDay.getMonth() + 1);
					var day = toDay.getDate() < 10 ? "0" + toDay.getDate()
							: toDay.getDate();
					$("#startTime").attr("min", year + "-" + month + "-" + day);
					$("#endTime").attr("min", year + "-" + month + "-" + day);
				});

				//蝨ｰ蝓溘Λ繧ｸ繧ｪ繝懊ち繝ｳ縺ｮ蛻晄悄迥ｶ諷九ｒ蛻､譁ｭ
				$(document).ready(function() {
					var location = $("input[name='location']:checked").val();
					if (location == 2) {
						$('#div_select').show();
					}
				});

				//蝨ｰ蝓溘Λ繧ｸ繧ｪ繝懊ち繝ｳ縺ｮ繝上Φ繝峨Λ
				$(document).ready(function() {
					$('[name="location"]:radio').change(function() {
						if ($('[id=location1]').prop('checked')) {
							$('#div_select').hide(0, refreshData);
						}
						if ($('[id=location2]').prop('checked')) {
							$('#div_select').hide(0, refreshData);
						}
						if ($('[id=location3]').prop('checked')) {
							$('#div_select').show();
						}
					});

					//繝�繝ｼ繧ｿ譖ｴ譁ｰ
					function refreshData() {
						$('#regions').multiSelect('deselect_all');
						$('#regions').multiSelect('refresh');
					}

				});

			}
		</script>
	</div>
</body>
</html>